<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ¸”ä¸šæ•°æ®ç©ºé—´ - ç°ä»£åŒ–æ•°æ®é©±åŠ¨çš„æ™ºæ…§å…»æ®–</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Microsoft YaHei", Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
        padding: 40px 0;
      }

      .header h1 {
        font-size: 3em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .section {
        background: white;
        margin: 30px 0;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .section h2 {
        color: #166534;
        margin-bottom: 20px;
        font-size: 2em;
        border-bottom: 3px solid #22c55e;
        padding-bottom: 10px;
      }

      .data-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .data-card {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        transition: transform 0.3s ease;
      }

      .data-card:hover {
        transform: translateY(-5px);
      }

      .data-card h3 {
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      .data-card p {
        font-size: 0.9em;
        opacity: 0.9;
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .data-table th,
      .data-table td {
        padding: 12px 15px;
        text-align: center;
        border-bottom: 1px solid #e2e8f0;
      }

      .data-table th {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
        font-weight: 600;
      }

      .data-table tr:hover {
        background-color: #f0fdf4;
      }

      .chart-container {
        display: block;
        margin: 30px 0;
      }

      .chart-box {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .chart-box h3 {
        color: #4a5568;
        margin-bottom: 15px;
        text-align: center;
      }

      /* å‚æ•°åˆ†æåŒºåŸŸæ ·å¼ */
      .parameter-analysis {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        width: 100%;
      }

      .charts-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-top: 20px;
        max-width: 100%;
        overflow: hidden;
      }

      .mini-chart-box {
        background: #f0fdf4;
        border-radius: 12px;
        padding: 20px;
        border: 2px solid #bbf7d0;
        transition: all 0.3s ease;
      }

      .mini-chart-box:hover {
        border-color: #22c55e;
        box-shadow: 0 5px 15px rgba(34, 197, 94, 0.2);
        transform: translateY(-3px);
      }

      .mini-chart-box h4 {
        margin: 0 0 15px 0;
        color: #166534;
        font-size: 16px;
        font-weight: 600;
        text-align: center;
      }

      .mini-chart-box canvas {
        height: 300px !important;
        max-height: 300px;
        width: 100% !important;
        max-width: 100%;
      }

      /* AIé¢„æµ‹è¡¨æ ¼æ ·å¼ */
      .ai-prediction-section {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .prediction-table-container {
        overflow-x: auto;
        margin-top: 20px;
      }

      .prediction-table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .prediction-table th {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        color: white;
        padding: 15px 12px;
        text-align: center;
        font-weight: 600;
        font-size: 14px;
      }

      .prediction-table td {
        padding: 12px;
        text-align: center;
        border-bottom: 1px solid #e2e8f0;
        font-size: 13px;
      }

      .prediction-table tbody tr:hover {
        background-color: #f0fdf4;
      }

      .prediction-table tbody tr:nth-child(even) {
        background-color: #f0fdf4;
      }

      .confidence-high {
        color: #38a169;
        font-weight: 600;
      }

      .confidence-medium {
        color: #d69e2e;
        font-weight: 600;
      }

      .growth-improvement {
        color: #3182ce;
        font-weight: 600;
      }

      .current-range {
        color: #718096;
      }

      .optimal-range {
        color: #38a169;
        font-weight: 600;
      }

      .flow-diagram {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        align-items: center;
        margin: 30px 0;
      }

      .flow-step {
        background: linear-gradient(135deg, #22c55e, #16a34a);
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin: 10px;
        text-align: center;
        min-width: 200px;
        position: relative;
        transition: transform 0.3s ease;
      }

      .flow-step:hover {
        transform: scale(1.05);
      }

      .flow-step::after {
        content: "â†’";
        position: absolute;
        right: -30px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 2em;
        color: #22c55e;
      }

      .flow-step:last-child::after {
        display: none;
      }

      .connector-flow {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .connector-step {
        background: #f7fafc;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
      }

      .connector-step:hover {
        border-color: #667eea;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
      }

      .connector-step h4 {
        color: #22c55e;
        margin-bottom: 10px;
      }

      .ai-training-flow {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 30px 0;
      }

      .training-stage {
        background: white;
        border: 2px solid #22c55e;
        border-radius: 10px;
        padding: 20px;
        margin: 10px 0;
        width: 80%;
        text-align: center;
        position: relative;
      }

      .training-stage::after {
        content: "â†“";
        position: absolute;
        bottom: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 2em;
        color: #22c55e;
      }

      .training-stage:last-child::after {
        display: none;
      }

      /* æ•°æ®æµå‘å›¾æ ·å¼ */
      .data-flow-container {
        display: flex;
        flex-direction: column;
        gap: 40px;
        margin: 30px 0;
      }

      .flow-stage {
        background: #f8fafc;
        border-radius: 15px;
        padding: 30px;
        border: 2px solid #e2e8f0;
        position: relative;
      }

      .flow-stage h3 {
        text-align: center;
        color: #166534;
        margin-bottom: 25px;
        font-size: 1.5em;
        font-weight: 600;
      }

      .connectors-grid,
      .applications-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .connector-node,
      .application-node {
        background: white;
        border: 2px solid #22c55e;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.1);
      }

      .connector-node:hover,
      .application-node:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(34, 197, 94, 0.2);
        border-color: #16a34a;
      }

      .connector-icon,
      .app-icon {
        font-size: 2.5em;
        margin-bottom: 10px;
        display: block;
      }

      .connector-node h4,
      .application-node h4 {
        color: #166534;
        margin: 10px 0;
        font-size: 1.1em;
        font-weight: 600;
      }

      .connector-node p,
      .application-node p {
        color: #4a5568;
        font-size: 0.9em;
        line-height: 1.4;
      }

      .ai-center {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }

      .ai-process {
        display: flex;
        align-items: center;
        gap: 20px;
        background: white;
        padding: 25px;
        border-radius: 15px;
        border: 3px solid #22c55e;
        box-shadow: 0 8px 25px rgba(34, 197, 94, 0.15);
      }

      .process-step {
        text-align: center;
        padding: 15px;
        background: #f0fdf4;
        border-radius: 10px;
        min-width: 150px;
      }

      .step-icon {
        font-size: 2em;
        margin-bottom: 8px;
        display: block;
      }

      .process-step h4 {
        color: #166534;
        margin: 8px 0;
        font-size: 1em;
        font-weight: 600;
      }

      .process-step p {
        color: #4a5568;
        font-size: 0.85em;
        line-height: 1.3;
      }

      .process-arrow {
        font-size: 2em;
        color: #22c55e;
        font-weight: bold;
      }

      .flow-arrows {
        display: flex;
        justify-content: center;
        gap: 50px;
        margin: 20px 0 0 0;
      }

      .arrow-down {
        font-size: 2em;
        color: #22c55e;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      /* æµå‘å›¾æ–°ç‰ˆæ ·å¼ï¼ˆv2ï¼‰ */
      .flow-v2 {
        display: flex;
        flex-direction: column;
        gap: 32px;
        margin-top: 10px;
      }
      .flow-v2 .row {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        justify-content: center;
        align-items: stretch;
        position: relative;
        z-index: 2;
      }
      .connector-card-v2,
      .app-card-v2 {
        background: white;
        border: 2px solid #bbf7d0;
        border-radius: 14px;
        padding: 16px 18px;
        width: 200px;
        min-height: 120px;
        text-align: center;
        transition: transform 0.25s ease, box-shadow 0.25s ease,
          border-color 0.25s ease;
        box-shadow: 0 6px 18px rgba(34, 197, 94, 0.12);
      }
      .connector-card-v2:hover,
      .app-card-v2:hover {
        transform: translateY(-6px);
        border-color: #22c55e;
        box-shadow: 0 12px 28px rgba(34, 197, 94, 0.25);
      }
      .connector-card-v2 .icon,
      .app-card-v2 .icon {
        font-size: 26px;
        margin-bottom: 6px;
        display: inline-block;
      }
      .connector-card-v2 h4,
      .app-card-v2 h4 {
        color: #166534;
        font-size: 16px;
        margin: 6px 0 8px;
      }
      .connector-card-v2 p,
      .app-card-v2 p {
        color: #4b5563;
        font-size: 12px;
        line-height: 1.45;
      }
      .hub-v2 {
        position: relative;
        margin: 6px auto 0;
        max-width: 720px;
        border-radius: 20px;
        padding: 20px 24px;
        background: linear-gradient(
          135deg,
          rgba(34, 197, 94, 0.95),
          rgba(22, 163, 74, 0.95)
        );
        color: #fff;
        box-shadow: 0 12px 40px rgba(16, 185, 129, 0.35);
        overflow: hidden;
      }
      .hub-v2::after {
        content: "";
        position: absolute;
        inset: 1px;
        border-radius: 18px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.15);
        pointer-events: none;
      }
      .hub-title {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        letter-spacing: 0.5px;
      }
      .hub-badges {
        display: flex;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 10px;
      }
      .badge {
        background: rgba(255, 255, 255, 0.18);
        color: #f0fff4;
        border: 1px solid rgba(255, 255, 255, 0.25);
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
        backdrop-filter: blur(4px);
      }
      .training-pipeline {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 14px;
        flex-wrap: wrap;
        position: relative;
      }
      .tp-step {
        background: #f0fdf4;
        border: 2px solid #bbf7d0;
        border-radius: 12px;
        padding: 14px 16px;
        min-width: 150px;
        text-align: center;
        box-shadow: 0 6px 16px rgba(34, 197, 94, 0.14);
      }
      .tp-step .n {
        width: 22px;
        height: 22px;
        line-height: 22px;
        border-radius: 50%;
        background: #22c55e;
        color: #fff;
        display: inline-block;
        font-size: 12px;
        font-weight: 700;
        margin-bottom: 6px;
      }
      .tp-step h5 {
        color: #166534;
        font-size: 14px;
        margin: 4px 0 6px;
      }
      .tp-step p {
        color: #4b5563;
        font-size: 12px;
      }

      /* SVG æµåŠ¨ç®­å¤´ */
      .svg-flow {
        width: 100%;
        height: 80px;
        display: block;
      }
      .svg-flow path {
        stroke: #22c55e;
        stroke-width: 3;
        fill: none;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-dasharray: 8 8;
        animation: flowDash 3s linear infinite;
      }
      @keyframes flowDash {
        to {
          stroke-dashoffset: -100;
        }
      }
      .down-arrow-v2 {
        width: 100%;
        height: 60px;
        display: block;
      }
      .down-arrow-v2 path {
        stroke: #22c55e;
        stroke-width: 3;
        fill: none;
        marker-end: url(#arrowhead);
      }

      /* ç§»åŠ¨ç«¯é€‚é…ï¼ˆv2ï¼‰ */
      @media (max-width: 768px) {
        .flow-v2 .row {
          gap: 12px;
        }
        .connector-card-v2,
        .app-card-v2 {
          width: calc(50% - 12px);
          min-width: 150px;
          padding: 12px;
        }
        .hub-v2 {
          padding: 16px;
        }
        .training-pipeline {
          gap: 10px;
        }
        .tp-step {
          min-width: 130px;
          padding: 12px;
        }
      }

      @media (max-width: 520px) {
        .connector-card-v2,
        .app-card-v2 {
          width: 100%;
        }
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2em;
        }

        .chart-container {
          grid-template-columns: 1fr;
        }

        .charts-grid {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .mini-chart-box canvas {
          height: 250px !important;
          max-height: 250px;
        }

        .flow-diagram {
          flex-direction: column;
        }

        .flow-step::after {
          content: "â†“";
          right: 50%;
          bottom: -30px;
          top: auto;
          transform: translateX(50%);
        }

        /* æ•°æ®æµå‘å›¾ç§»åŠ¨ç«¯é€‚é… */
        .data-flow-container {
          gap: 25px;
        }

        .flow-stage {
          padding: 20px;
        }

        .connectors-grid,
        .applications-grid {
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
        }

        .connector-node,
        .application-node {
          padding: 15px;
        }

        .connector-icon,
        .app-icon {
          font-size: 2em;
        }

        .ai-process {
          flex-direction: column;
          gap: 15px;
          padding: 20px;
        }

        .process-arrow {
          transform: rotate(90deg);
          font-size: 1.5em;
        }

        .process-step {
          min-width: 120px;
        }

        .flow-arrows {
          gap: 30px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>ğŸŸ æ¸”ä¸šæ•°æ®ç©ºé—´</h1>
        <p>ç°ä»£åŒ–æ•°æ®é©±åŠ¨çš„æ™ºæ…§å…»æ®–è§£å†³æ–¹æ¡ˆ</p>
      </header>

      <!-- æ•°æ®ç©ºé—´æ¦‚è¿° -->
      <section class="section">
        <h2>ğŸ“Š æ¸”ä¸šæ•°æ®ç©ºé—´æ¦‚è¿°</h2>
        <div class="data-overview">
          <div class="data-card">
            <h3>ğŸŒ¡ï¸ ç¯å¢ƒç›‘æµ‹</h3>
            <p>å®æ—¶ç›‘æµ‹æ°´æ¸©ã€pHå€¼ã€æº¶è§£æ°§ç­‰å…³é”®ç¯å¢ƒå‚æ•°</p>
          </div>
          <div class="data-card">
            <h3>ğŸ½ï¸ æŠ•å–‚ç®¡ç†</h3>
            <p>æ™ºèƒ½æ§åˆ¶æŠ•å–‚é‡ï¼Œä¼˜åŒ–é¥²æ–™åˆ©ç”¨ç‡</p>
          </div>
          <div class="data-card">
            <h3>ğŸ“¹ æ™ºèƒ½ç›‘æ§</h3>
            <p>é€šè¿‡æ‘„åƒå¤´å’Œä¼ æ„Ÿå™¨ç›‘æµ‹é±¼ç±»ç”Ÿé•¿çŠ¶æ€</p>
          </div>
          <div class="data-card">
            <h3>ğŸ¤– AIåˆ†æ</h3>
            <p>æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹äº§é‡å’Œä¼˜åŒ–å…»æ®–ç­–ç•¥</p>
          </div>
        </div>
      </section>

      <!-- ä¼ æ„Ÿå™¨æ•°æ®å±•ç¤º -->
      <section class="section">
        <h2>ğŸ“ˆ å®æ—¶ä¼ æ„Ÿå™¨æ•°æ®</h2>
        <table class="data-table">
          <thead>
            <tr>
              <th>æ—¶é—´</th>
              <th>æ°´æ¸©(Â°C)</th>
              <th>pHå€¼</th>
              <th>æº¶è§£æ°§(mg/L)</th>
              <th>æ°¨æ°®(mg/L)</th>
              <th>æŠ•å–‚é‡(kg)</th>
              <th>å¢æ°§é‡(L/min)</th>
              <th>é±¼ç±»é‡é‡(kg)</th>
            </tr>
          </thead>
          <tbody id="sensorData">
            <!-- æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </tbody>
        </table>
      </section>

      <!-- æ•°æ®å…³è”æ€§å›¾è¡¨ -->
      <section class="section">
        <h2>ğŸ“Š æ•°æ®å…³è”æ€§åˆ†æ</h2>
        <div class="chart-container">
          <!-- å¤šä¸ªç¯å¢ƒå‚æ•°å½±å“åˆ†æå›¾è¡¨ -->
          <div class="parameter-analysis">
            <h3>ğŸ”¬ ç¯å¢ƒå‚æ•°å¯¹é±¼ç±»ç”Ÿé•¿çš„å·®å¼‚åŒ–å½±å“åˆ†æ</h3>
            <div class="charts-grid">
              <div class="mini-chart-box">
                <canvas id="tempChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="phChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="ammoniaChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="feedChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="aerationChart"></canvas>
              </div>
            </div>
          </div>

          <!-- AIæ¨¡å‹é¢„æµ‹æœ€ä½³å‚æ•°è¡¨ -->
          <div class="ai-prediction-section">
            <h3>ğŸ¤– AIæ¨¡å‹é¢„æµ‹æœ€ä½³å‚æ•°èŒƒå›´</h3>
            <div class="prediction-table-container">
              <table class="prediction-table">
                <thead>
                  <tr>
                    <th>ç¯å¢ƒå‚æ•°</th>
                    <th>å½“å‰èŒƒå›´</th>
                    <th>AIé¢„æµ‹æœ€ä½³èŒƒå›´</th>
                    <th>é¢„æœŸå¢é•¿æå‡</th>
                    <th>ç½®ä¿¡åº¦</th>
                    <th>å»ºè®®æªæ–½</th>
                  </tr>
                </thead>
                <tbody id="predictionTableBody">
                  <!-- åŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- æº¶è§£æ°§å½±å“å› ç´ åˆ†æ -->
      <section class="section">
        <h2>ğŸ’¨ æº¶è§£æ°§å½±å“å› ç´ åˆ†æ</h2>

        <!-- æº¶è§£æ°§ä¼ æ„Ÿå™¨æ•°æ®å±•ç¤º -->
        <h3>ğŸ“ˆ å®æ—¶ä¼ æ„Ÿå™¨æ•°æ®</h3>
        <table class="data-table">
          <thead>
            <tr>
              <th>æ—¶é—´</th>
              <th>æ°´æµé‡(L/min)</th>
              <th>æ¶²æ°§æ›æ°”(L/min)</th>
              <th>æ°´æ¸©(Â°C)</th>
              <th>æ’æ±¡é¢‘æ¬¡(æ¬¡/å¤©)</th>
              <th>é£é€Ÿ(m/s)</th>
              <th>æ°´æ·±(m)</th>
              <th>æº¶è§£æ°§(mg/L)</th>
            </tr>
          </thead>
          <tbody id="oxygenSensorData">
            <!-- æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </tbody>
        </table>

        <div class="chart-container">
          <!-- å¤šä¸ªç¯å¢ƒå‚æ•°å¯¹æº¶è§£æ°§å½±å“åˆ†æå›¾è¡¨ -->
          <div class="parameter-analysis">
            <h3>ğŸŒŠ ç¯å¢ƒå‚æ•°å¯¹æº¶è§£æ°§æµ“åº¦çš„å·®å¼‚åŒ–å½±å“åˆ†æ</h3>
            <div class="charts-grid">
              <div class="mini-chart-box">
                <canvas id="oxygenPoolAChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenPoolBChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenPoolCChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenPoolDChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenPoolEChart"></canvas>
              </div>
              <div class="mini-chart-box">
                <canvas id="oxygenPoolFChart"></canvas>
              </div>
            </div>
          </div>

          <!-- AIæ¨¡å‹é¢„æµ‹æº¶è§£æ°§æœ€ä½³å‚æ•°è¡¨ -->
          <div class="ai-prediction-section">
            <h3>ğŸ¤– AIæ¨¡å‹é¢„æµ‹æº¶è§£æ°§æœ€ä½³å‚æ•°èŒƒå›´</h3>
            <div class="prediction-table-container">
              <table class="prediction-table">
                <thead>
                  <tr>
                    <th>å½±å“å‚æ•°</th>
                    <th>å½“å‰èŒƒå›´</th>
                    <th>AIé¢„æµ‹æœ€ä½³èŒƒå›´</th>
                    <th>é¢„æœŸæº¶è§£æ°§æå‡</th>
                    <th>ç½®ä¿¡åº¦</th>
                    <th>å»ºè®®æªæ–½</th>
                  </tr>
                </thead>
                <tbody id="oxygenPredictionTableBody">
                  <!-- åŠ¨æ€ç”Ÿæˆå†…å®¹ -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- æ¸”ä¸šæ•°æ®æµå‘å›¾ -->
      <section class="section">
        <h2>ğŸŒŠ æ¸”ä¸šæ•°æ®æµå‘ä¸AIè®­ç»ƒåº”ç”¨æ¶æ„</h2>
        <div class="data-flow-container">
          <!-- æ•°æ®æ±‡èšé˜¶æ®µ -->
          <div class="flow-stage">
            <h3>ğŸ“¡ æ•°æ®æ±‡èšå±‚</h3>
            <div class="connectors-grid">
              <div class="connector-node">
                <div class="connector-icon">ğŸ­</div>
                <h4>å…»æ®–åŸºåœ°A</h4>
                <p>æ°´è´¨ç›‘æµ‹<br />æŠ•å–‚æ•°æ®<br />ç”Ÿé•¿è®°å½•</p>
              </div>
              <div class="connector-node">
                <div class="connector-icon">ğŸ­</div>
                <h4>å…»æ®–åŸºåœ°B</h4>
                <p>ç¯å¢ƒå‚æ•°<br />é±¼ç±»è¡Œä¸º<br />äº§é‡æ•°æ®</p>
              </div>
              <div class="connector-node">
                <div class="connector-icon">ğŸ­</div>
                <h4>å…»æ®–åŸºåœ°C</h4>
                <p>è®¾å¤‡çŠ¶æ€<br />èƒ½è€—æ•°æ®<br />å¼‚å¸¸æŠ¥è­¦</p>
              </div>
              <div class="connector-node">
                <div class="connector-icon">ğŸŒŠ</div>
                <h4>æµ·æ´‹ç¯å¢ƒ</h4>
                <p>æ½®æ±æ•°æ®<br />æ°´æ¸©å˜åŒ–<br />ç›åº¦ç›‘æµ‹</p>
              </div>
              <div class="connector-node">
                <div class="connector-icon">ğŸ›°ï¸</div>
                <h4>å«æ˜Ÿæ•°æ®</h4>
                <p>æ°”è±¡ä¿¡æ¯<br />æµ·è¡¨æ¸©åº¦<br />å¶ç»¿ç´ æµ“åº¦</p>
              </div>
              <div class="connector-node">
                <div class="connector-icon">ğŸ“Š</div>
                <h4>å¸‚åœºæ•°æ®</h4>
                <p>ä»·æ ¼è¶‹åŠ¿<br />éœ€æ±‚é¢„æµ‹<br />ä¾›åº”é“¾ä¿¡æ¯</p>
              </div>
            </div>
            <div class="flow-arrows">
              <div class="arrow-down">â¬‡ï¸</div>
              <div class="arrow-down">â¬‡ï¸</div>
              <div class="arrow-down">â¬‡ï¸</div>
            </div>
          </div>

          <!-- AIè®­ç»ƒä¸­å¿ƒ -->
          <div class="flow-stage">
            <h3>ğŸ§  AIè®­ç»ƒä¸­å¿ƒ</h3>
            <div class="ai-center">
              <div class="ai-process">
                <div class="process-step">
                  <div class="step-icon">ğŸ“¥</div>
                  <h4>æ•°æ®èåˆ</h4>
                  <p>å¤šæºæ•°æ®æ¸…æ´—<br />ç‰¹å¾æå–<br />æ•°æ®æ ‡å‡†åŒ–</p>
                </div>
                <div class="process-arrow">â†’</div>
                <div class="process-step">
                  <div class="step-icon">ğŸ¤–</div>
                  <h4>æ¨¡å‹è®­ç»ƒ</h4>
                  <p>æ·±åº¦å­¦ä¹ <br />å‚æ•°ä¼˜åŒ–<br />æ¨¡å‹éªŒè¯</p>
                </div>
                <div class="process-arrow">â†’</div>
                <div class="process-step">
                  <div class="step-icon">ğŸ“Š</div>
                  <h4>æ™ºèƒ½åˆ†æ</h4>
                  <p>é¢„æµ‹å»ºæ¨¡<br />å†³ç­–ä¼˜åŒ–<br />é£é™©è¯„ä¼°</p>
                </div>
              </div>
            </div>
            <div class="flow-arrows">
              <div class="arrow-down">â¬‡ï¸</div>
              <div class="arrow-down">â¬‡ï¸</div>
              <div class="arrow-down">â¬‡ï¸</div>
            </div>
          </div>

          <!-- æ¨¡å‹åº”ç”¨é˜¶æ®µ -->
          <div class="flow-stage">
            <h3>ğŸ¯ æ™ºèƒ½åº”ç”¨å±‚</h3>
            <div class="applications-grid">
              <div class="application-node">
                <div class="app-icon">ğŸ­</div>
                <h4>æ™ºèƒ½å…»æ®–</h4>
                <p>è‡ªåŠ¨æŠ•å–‚<br />ç¯å¢ƒè°ƒæ§<br />ç–¾ç—…é¢„è­¦</p>
              </div>
              <div class="application-node">
                <div class="app-icon">ğŸ“ˆ</div>
                <h4>äº§é‡é¢„æµ‹</h4>
                <p>ç”Ÿé•¿é¢„ä¼°<br />æ”¶è·æ—¶æœº<br />äº§èƒ½è§„åˆ’</p>
              </div>
              <div class="application-node">
                <div class="app-icon">âš¡</div>
                <h4>èƒ½è€—ä¼˜åŒ–</h4>
                <p>è®¾å¤‡è°ƒåº¦<br />èƒ½æ•ˆåˆ†æ<br />æˆæœ¬æ§åˆ¶</p>
              </div>
              <div class="application-node">
                <div class="app-icon">ğŸ”</div>
                <h4>è´¨é‡ç›‘æ§</h4>
                <p>å“è´¨æ£€æµ‹<br />å®‰å…¨è¯„ä¼°<br />æº¯æºç®¡ç†</p>
              </div>
              <div class="application-node">
                <div class="app-icon">ğŸ“±</div>
                <h4>ç§»åŠ¨å†³ç­–</h4>
                <p>å®æ—¶ç›‘æ§<br />è¿œç¨‹æ§åˆ¶<br />æ™ºèƒ½æ¨è</p>
              </div>
              <div class="application-node">
                <div class="app-icon">ğŸŒ</div>
                <h4>ç”Ÿæ€ç®¡ç†</h4>
                <p>ç¯å¢ƒä¿æŠ¤<br />å¯æŒç»­å‘å±•<br />ç”Ÿæ€å¹³è¡¡</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AIæ¨¡å‹è®­ç»ƒæµç¨‹ -->
      <section class="section">
        <h2>ğŸ¤– AIæ¨¡å‹è®­ç»ƒæ•°æ®æµç¨‹</h2>
        <div class="ai-training-flow">
          <div class="training-stage">
            <h4>ğŸ“¥ æ•°æ®æ”¶é›†</h4>
            <p>ä»ä¼ æ„Ÿå™¨ã€æ‘„åƒå¤´ã€äººå·¥æµ‹é‡ç­‰å¤šæºæ”¶é›†æ¸”ä¸šæ•°æ®</p>
          </div>
          <div class="training-stage">
            <h4>ğŸ”§ æ•°æ®é¢„å¤„ç†</h4>
            <p>æ¸…æ´—ã€æ ‡å‡†åŒ–ã€ç‰¹å¾å·¥ç¨‹ï¼Œæ„å»ºé«˜è´¨é‡è®­ç»ƒæ•°æ®é›†</p>
          </div>
          <div class="training-stage">
            <h4>ğŸ§  æ¨¡å‹è®­ç»ƒ</h4>
            <p>ä½¿ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•è®­ç»ƒé¢„æµ‹æ¨¡å‹ï¼Œä¼˜åŒ–å…»æ®–å‚æ•°</p>
          </div>
          <div class="training-stage">
            <h4>ğŸ“Š æ¨¡å‹éƒ¨ç½²</h4>
            <p>å°†è®­ç»ƒå¥½çš„æ¨¡å‹éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå®ç°æ™ºèƒ½å†³ç­–</p>
          </div>
        </div>
      </section>

      <!-- æ•°æ®ç©ºé—´è¿æ¥å™¨æµç¨‹ -->
      <section class="section">
        <h2>ğŸ”— æ¸”ä¸šæ•°æ®ç©ºé—´è¿æ¥å™¨å®ç°æµç¨‹</h2>
        <div class="connector-flow">
          <div class="connector-step">
            <h4>ğŸ”Œ æ•°æ®æºè¿æ¥</h4>
            <p>è¿æ¥å„ç±»ä¼ æ„Ÿå™¨ã€è®¾å¤‡å’Œå¤–éƒ¨æ•°æ®æº</p>
          </div>
          <div class="connector-step">
            <h4>ğŸ”„ æ•°æ®åŒæ­¥</h4>
            <p>å®æ—¶åŒæ­¥å¤šæºå¼‚æ„æ•°æ®åˆ°ç»Ÿä¸€æ•°æ®ç©ºé—´</p>
          </div>
          <div class="connector-step">
            <h4>ğŸ—ï¸ æ•°æ®å»ºæ¨¡</h4>
            <p>æ„å»ºæ ‡å‡†åŒ–æ•°æ®æ¨¡å‹å’Œå…ƒæ•°æ®ç®¡ç†</p>
          </div>
          <div class="connector-step">
            <h4>ğŸ” å®‰å…¨æ§åˆ¶</h4>
            <p>å®ç°æ•°æ®è®¿é—®æ§åˆ¶å’Œéšç§ä¿æŠ¤æœºåˆ¶</p>
          </div>
          <div class="connector-step">
            <h4>ğŸ“¡ APIæœåŠ¡</h4>
            <p>æä¾›æ ‡å‡†åŒ–APIæ¥å£ä¾›åº”ç”¨ç³»ç»Ÿè°ƒç”¨</p>
          </div>
          <div class="connector-step">
            <h4>ğŸ“Š æ•°æ®åˆ†æ</h4>
            <p>æ”¯æŒå®æ—¶åˆ†æå’Œæ‰¹é‡å¤„ç†ï¼Œé©±åŠ¨æ™ºèƒ½å†³ç­–</p>
          </div>
        </div>
      </section>

      <!-- æŠ€æœ¯æ¶æ„æµç¨‹ -->
      <section class="section">
        <h2>ğŸ›ï¸ æŠ€æœ¯æ¶æ„æµç¨‹</h2>
        <div class="flow-diagram">
          <div class="flow-step">
            <h4>ä¼ æ„Ÿå™¨å±‚</h4>
            <p>æ¸©åº¦ã€pHã€æº¶è§£æ°§<br />æ‘„åƒå¤´ã€æŠ•å–‚è®¾å¤‡</p>
          </div>
          <div class="flow-step">
            <h4>æ•°æ®é‡‡é›†å±‚</h4>
            <p>IoTç½‘å…³<br />è¾¹ç¼˜è®¡ç®—èŠ‚ç‚¹</p>
          </div>
          <div class="flow-step">
            <h4>æ•°æ®å­˜å‚¨å±‚</h4>
            <p>æ—¶åºæ•°æ®åº“<br />å¯¹è±¡å­˜å‚¨</p>
          </div>
          <div class="flow-step">
            <h4>æ•°æ®å¤„ç†å±‚</h4>
            <p>æµå¼å¤„ç†<br />æ‰¹é‡åˆ†æ</p>
          </div>
          <div class="flow-step">
            <h4>åº”ç”¨æœåŠ¡å±‚</h4>
            <p>AIæ¨¡å‹æœåŠ¡<br />ä¸šåŠ¡åº”ç”¨</p>
          </div>
        </div>
      </section>
    </div>

    <script>
      // ç”Ÿæˆæ¨¡æ‹Ÿä¼ æ„Ÿå™¨æ•°æ®
      function generateSensorData() {
        const tbody = document.getElementById("sensorData");
        const now = new Date();

        for (let i = 0; i < 10; i++) {
          const time = new Date(now.getTime() - i * 24 * 3600000 * 7); // æ¯å‘¨ä¸€æ¡æ•°æ®
          const row = tbody.insertRow();

          // åŸºç¡€é‡é‡éšæ—¶é—´å¢é•¿
          const baseWeight = 800 + (9 - i) * 120; // æ¯å‘¨å¢é•¿çº¦120kg
          const weightVariation = Math.random() * 80 - 40; // Â±40kgçš„éšæœºå˜åŒ–

          // ç”Ÿæˆå„é¡¹å‚æ•°
          const waterTemp = 22 + Math.random() * 6;
          const pH = 7.0 + Math.random() * 1.5;
          const ammoniaNitrogen = 0.1 + Math.random() * 0.4;
          const feedAmount = 50 + Math.random() * 30;
          const oxygenAmount = 100 + Math.random() * 50;

          // æ ¹æ®ç¯å¢ƒå‚æ•°åŠ¨æ€è®¡ç®—æº¶è§£æ°§
          const dissolvedOxygen =
            6.8 +
            (25 - waterTemp) * 0.15 + // æ°´æ¸©è´Ÿç›¸å…³
            (pH - 7.5) * 0.3 + // pHå½±å“
            (0.3 - ammoniaNitrogen) * 2 + // æ°¨æ°®è´Ÿç›¸å…³
            oxygenAmount * 0.02 + // å¢æ°§é‡æ­£ç›¸å…³
            (Math.random() - 0.5) * 1.0; // éšæœºæ³¢åŠ¨

          const finalDissolvedOxygen = Math.max(
            4.0,
            Math.min(10.0, dissolvedOxygen)
          );

          row.insertCell(0).textContent = time.toLocaleDateString("zh-CN");
          row.insertCell(1).textContent = waterTemp.toFixed(1); // æ°´æ¸©
          row.insertCell(2).textContent = pH.toFixed(1); // pH
          row.insertCell(3).textContent = finalDissolvedOxygen.toFixed(1); // åŠ¨æ€è®¡ç®—çš„æº¶è§£æ°§
          row.insertCell(4).textContent = ammoniaNitrogen.toFixed(2); // æ°¨æ°®
          row.insertCell(5).textContent = feedAmount.toFixed(0); // æŠ•å–‚é‡
          row.insertCell(6).textContent = oxygenAmount.toFixed(0); // å¢æ°§é‡
          row.insertCell(7).textContent = (
            baseWeight + weightVariation
          ).toFixed(0); // é±¼ç±»é‡é‡
        }
      }

      // åˆ›å»ºåŒ…å«æ‰€æœ‰å‚æ•°çš„ç»¼åˆåˆ†æå›¾è¡¨
      function createParameterChart(canvasId, chartTitle) {
        const ctx = document.getElementById(canvasId).getContext("2d");

        // ç”Ÿæˆå®Œæ•´å…»æ®–å‘¨æœŸçš„å…³é”®æ—¶é—´èŠ‚ç‚¹ï¼ˆ24å‘¨ï¼ŒåŠå¹´ï¼‰
        const keyWeeks = [1, 3, 5, 8, 10, 12, 15, 17, 20, 22, 24]; // 11ä¸ªå…³é”®æ—¶é—´ç‚¹
        const labels = [];
        const tempData = [];
        const phData = [];
        const oxygenData = [];
        const ammoniaData = [];
        const feedData = [];
        const aerationData = [];
        const fishWeightData = []; // æ–°å¢é±¼é‡æ•°æ®

        // æ ¹æ®ä¸åŒé²ˆé±¼å“ç§è®¾ç½®åŸºç¡€å‚æ•°å·®å¼‚
        let baseTemp = 25,
          basePh = 7.3,
          baseOxygen = 6.5;
        let baseAmmonia = 0.25,
          baseFeed = 2.5,
          baseAeration = 3.5;
        let initialWeight = 6; // åˆå§‹é±¼é‡(g)

        // ç»Ÿä¸€ä½¿ç”¨å¤§å£é»‘é²ˆçš„åŸºç¡€å‚æ•°ï¼Œä¸å†æ ¹æ®æ ‡é¢˜åŒºåˆ†
        // baseTemp = 25; basePh = 7.3; initialWeight = 6;

        for (let i = 0; i < keyWeeks.length; i++) {
          const weekNum = keyWeeks[i];
          labels.push(`ç¬¬${weekNum}å‘¨`);

          // æ¨¡æ‹Ÿå…»æ®–è¿‡ç¨‹ä¸­çš„å‚æ•°å˜åŒ–å’Œé±¼é‡å¢é•¿
          const growthFactor = weekNum / 24; // ç”Ÿé•¿å› å­
          const seasonFactor = Math.sin(weekNum * 0.26) * 0.5; // å­£èŠ‚å› å­

          tempData.push(baseTemp + seasonFactor * 2 + Math.random() * 1.5);
          phData.push(
            basePh + Math.sin(weekNum * 0.3) * 0.4 + Math.random() * 0.3
          );
          oxygenData.push(
            baseOxygen + Math.cos(weekNum * 0.2) * 1.2 + Math.random() * 0.8
          );
          ammoniaData.push(
            baseAmmonia + growthFactor * 0.3 + Math.random() * 0.15
          );
          feedData.push(baseFeed + growthFactor * 2.5 + Math.random() * 0.8);
          aerationData.push(
            baseAeration + growthFactor * 1.8 + Math.random() * 1.0
          );

          // é±¼é‡å¢é•¿æ¨¡å‹ï¼šä¸¥æ ¼æ§åˆ¶åœ¨600gä»¥å†…ï¼Œ24å‘¨è¾¾åˆ°480-550g
          const envFactor =
            (tempData[i] - 20) / 10 + phData[i] / 8 + oxygenData[i] / 8;
          // å¤§å¹…è°ƒæ•´å¢é•¿æ¨¡å‹ï¼šç¡®ä¿24å‘¨æ—¶ä¸¥æ ¼ä¸è¶…è¿‡550g
          const baseGrowth =
            initialWeight + weekNum * weekNum * 0.4 + weekNum * 9;
          const expectedWeight = baseGrowth * (0.85 + envFactor * 0.08);
          fishWeightData.push(
            Math.max(expectedWeight + Math.random() * 15, initialWeight)
          );
        }

        new Chart(ctx, {
          type: "line",
          data: {
            labels: labels,
            datasets: [
              {
                label: "é±¼é‡ (g)",
                data: fishWeightData,
                borderColor: "rgba(231, 76, 60, 1)",
                backgroundColor: "rgba(231, 76, 60, 0.1)",
                yAxisID: "y2",
                tension: 0.3,
                borderWidth: 3,
              },
              {
                label: "æ°´æ¸© (Â°C)",
                data: tempData,
                borderColor: "rgba(255, 99, 132, 1)",
                backgroundColor: "rgba(255, 99, 132, 0.1)",
                yAxisID: "y",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "pHå€¼",
                data: phData,
                borderColor: "rgba(54, 162, 235, 1)",
                backgroundColor: "rgba(54, 162, 235, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æº¶è§£æ°§ (mg/L)",
                data: oxygenData,
                borderColor: "rgba(75, 192, 192, 1)",
                backgroundColor: "rgba(75, 192, 192, 0.1)",
                yAxisID: "y",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æ°¨æ°®å«é‡ (mg/L)",
                data: ammoniaData,
                borderColor: "rgba(153, 102, 255, 1)",
                backgroundColor: "rgba(153, 102, 255, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æŠ•å–‚é‡ (%ä½“é‡)",
                data: feedData,
                borderColor: "rgba(255, 159, 64, 1)",
                backgroundColor: "rgba(255, 159, 64, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "å¢æ°§é‡ (L/min)",
                data: aerationData,
                borderColor: "rgba(255, 205, 86, 1)",
                backgroundColor: "rgba(255, 205, 86, 0.1)",
                yAxisID: "y",
                tension: 0.3,
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                labels: {
                  usePointStyle: true,
                  padding: 8,
                  font: {
                    size: 10,
                  },
                },
              },
              title: {
                display: true,
                text: chartTitle,
                font: {
                  size: 14,
                  weight: "bold",
                },
              },
              tooltip: {
                mode: "index",
                intersect: false,
              },
            },
            scales: {
              y: {
                type: "linear",
                display: true,
                position: "left",
                title: {
                  display: true,
                  text: "æ°´æ¸©/æº¶è§£æ°§/å¢æ°§é‡",
                  font: {
                    size: 11,
                  },
                },
                grid: {
                  color: "rgba(0,0,0,0.1)",
                },
              },
              y1: {
                type: "linear",
                display: true,
                position: "right",
                title: {
                  display: true,
                  text: "pH/æ°¨æ°®/æŠ•å–‚é‡",
                  font: {
                    size: 11,
                  },
                },
                grid: {
                  drawOnChartArea: false,
                },
              },
              y2: {
                type: "linear",
                display: true,
                position: "right",
                min: 0,
                max: 600,
                title: {
                  display: true,
                  text: "é±¼é‡ (g)",
                  font: {
                    size: 11,
                  },
                  color: "#e74c3c",
                },
                ticks: {
                  color: "#e74c3c",
                },
                grid: {
                  drawOnChartArea: false,
                },
              },
            },
          },
        });
      }

      // åˆ›å»ºæ‰€æœ‰å‚æ•°å½±å“å›¾è¡¨
      function createParameterCharts() {
        createParameterChart("tempChart", "å¤§å£é»‘é²ˆAæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
        createParameterChart("phChart", "å¤§å£é»‘é²ˆBæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
        createParameterChart("oxygenChart", "å¤§å£é»‘é²ˆCæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
        createParameterChart("ammoniaChart", "å¤§å£é»‘é²ˆDæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
        createParameterChart("feedChart", "å¤§å£é»‘é²ˆEæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
        createParameterChart("aerationChart", "å¤§å£é»‘é²ˆFæ± å®Œæ•´å…»æ®–å‘¨æœŸåˆ†æ");
      }

      // ç”ŸæˆAIé¢„æµ‹è¡¨æ ¼ - åŸºäºç»¼åˆç¯å¢ƒå‚æ•°åˆ†æ
      function generatePredictionTable() {
        const tableBody = document.getElementById("predictionTableBody");

        // AIæ¨¡å‹åŸºäºæ‰€æœ‰ç¯å¢ƒå‚æ•°çš„ç»¼åˆåˆ†æç»“æœ
        const predictions = [
          {
            parameter: "æ°´æ¸©",
            current: "22-28Â°C",
            optimal: "24.5-25.5Â°C",
            improvement: "+15%",
            confidence: "96%",
            suggestion: "ç»“åˆpHå’Œæº¶è§£æ°§æ•°æ®ä¼˜åŒ–æ¸©æ§",
          },
          {
            parameter: "pHå€¼",
            current: "6.8-7.8",
            optimal: "7.1-7.3",
            improvement: "+12%",
            confidence: "94%",
            suggestion: "è€ƒè™‘æŠ•å–‚é‡å’Œæ°¨æ°®çš„ååŒè°ƒèŠ‚",
          },
          {
            parameter: "æº¶è§£æ°§",
            current: "5-8 mg/L",
            optimal: "6.8-7.5 mg/L",
            improvement: "+18%",
            confidence: "98%",
            suggestion: "ä¸å¢æ°§é‡å’Œæ°´æ¸©è”åŠ¨æ§åˆ¶",
          },
          {
            parameter: "æ°¨æ°®å«é‡",
            current: "0.1-0.4 mg/L",
            optimal: "<0.15 mg/L",
            improvement: "+22%",
            confidence: "97%",
            suggestion: "ç»¼åˆæŠ•å–‚é‡å’ŒpHå€¼è¿›è¡Œè°ƒæ§",
          },
          {
            parameter: "æŠ•å–‚é‡",
            current: "1.5-3.5%ä½“é‡",
            optimal: "2.2-2.8%ä½“é‡",
            improvement: "+14%",
            confidence: "91%",
            suggestion: "åŸºäºæ°´æ¸©å’Œæ°¨æ°®æ°´å¹³ç²¾å‡†æŠ•å–‚",
          },
          {
            parameter: "å¢æ°§é‡",
            current: "2-6 L/min",
            optimal: "3.5-4.5 L/min",
            improvement: "+10%",
            confidence: "89%",
            suggestion: "æ ¹æ®æº¶è§£æ°§å’Œæ°´æ¸©æ™ºèƒ½è°ƒèŠ‚",
          },
        ];

        predictions.forEach((pred) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                     <td><strong>${pred.parameter}</strong></td>
                     <td class="current-range">${pred.current}</td>
                     <td class="optimal-range">${pred.optimal}</td>
                     <td class="growth-improvement">${pred.improvement}</td>
                     <td class="${
                       pred.confidence >= "90%"
                         ? "confidence-high"
                         : "confidence-medium"
                     }">${pred.confidence}</td>
                     <td>${pred.suggestion}</td>
                 `;
          tableBody.appendChild(row);
        });
      }

      // åˆ›å»ºæº¶è§£æ°§å½±å“å› ç´ å›¾è¡¨
      // ç”Ÿæˆæº¶è§£æ°§ä¼ æ„Ÿå™¨æ•°æ®
      function generateOxygenSensorData() {
        const tbody = document.getElementById("oxygenSensorData");
        const now = new Date();

        for (let i = 0; i < 10; i++) {
          const time = new Date(now.getTime() - i * 24 * 3600000 * 7); // æ¯å‘¨ä¸€æ¡æ•°æ®
          const row = tbody.insertRow();

          // ç”Ÿæˆå„é¡¹å‚æ•°
          const flowRate = 80 + Math.random() * 40;
          const liquidOxygen = 3 + Math.random() * 4;
          const waterTemp = 22 + Math.random() * 6;
          const drainageFreq = 2 + Math.random() * 3;
          const windSpeed = 1.5 + Math.random() * 3;
          const waterDepth = 1.8 + Math.random() * 0.4;

          // æ ¹æ®å„å‚æ•°åŠ¨æ€è®¡ç®—æº¶è§£æ°§ï¼ˆè°ƒæ•´ç³»æ•°è®©æ•°å€¼åœ¨åˆç†èŒƒå›´å†…ï¼‰
                const dissolvedOxygen = 5.8 + 
                    (flowRate - 100) * 0.006 + // æ°´æµé‡å½±å“ï¼ˆé™ä½ç³»æ•°ï¼‰
                    liquidOxygen * 0.25 + // æ¶²æ°§æ›æ°”ç›´æ¥å½±å“ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (25 - waterTemp) * 0.06 + // æ°´æ¸©è´Ÿç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    drainageFreq * 0.12 + // æ’æ±¡é¢‘æ¬¡æ­£ç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    windSpeed * 0.08 + // é£é€Ÿæ­£ç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (2.2 - waterDepth) * 0.15 + // æ°´æ·±è´Ÿç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (Math.random() - 0.5) * 1.0; // éšæœºæ³¢åŠ¨

          // é™åˆ¶æº¶è§£æ°§åœ¨åˆç†èŒƒå›´å†…ï¼ˆ4-10 mg/Lï¼‰
          const finalOxygen = Math.max(4.0, Math.min(10.0, dissolvedOxygen));

          row.insertCell(0).textContent = time.toLocaleDateString("zh-CN");
          row.insertCell(1).textContent = flowRate.toFixed(0); // æ°´æµé‡
          row.insertCell(2).textContent = liquidOxygen.toFixed(1); // æ¶²æ°§æ›æ°”
          row.insertCell(3).textContent = waterTemp.toFixed(1); // æ°´æ¸©
          row.insertCell(4).textContent = drainageFreq.toFixed(0); // æ’æ±¡é¢‘æ¬¡
          row.insertCell(5).textContent = windSpeed.toFixed(1); // é£é€Ÿ
          row.insertCell(6).textContent = waterDepth.toFixed(1); // æ°´æ·±
          row.insertCell(7).textContent = finalOxygen.toFixed(1); // åŠ¨æ€è®¡ç®—çš„æº¶è§£æ°§
        }
      }

      // åˆ›å»ºæº¶è§£æ°§å½±å“å› ç´ åˆ†æå›¾è¡¨ï¼ˆç»Ÿä¸€æ ¼å¼ï¼Œä¸åŒæ± å­ï¼‰
      function createOxygenAnalysisChart(canvasId, chartTitle) {
        const ctx = document.getElementById(canvasId).getContext("2d");

        // ç”Ÿæˆå®Œæ•´å…»æ®–å‘¨æœŸçš„å…³é”®æ—¶é—´èŠ‚ç‚¹ï¼ˆ24å‘¨ï¼‰
        const keyWeeks = [1, 3, 5, 8, 10, 12, 15, 17, 20, 22, 24];
        const labels = [];
        const flowRateData = [];
        const liquidOxygenData = [];
        const waterTempData = [];
        const drainageFreqData = [];
        const windSpeedData = [];
        const waterDepthData = [];
        const dissolvedOxygenData = []; // æº¶è§£æ°§ä½œä¸ºä¸»è¦æŒ‡æ ‡

        // æ ¹æ®ä¸åŒæ± å­è®¾ç½®åŸºç¡€å‚æ•°å·®å¼‚ï¼ˆæ¨¡æ‹Ÿä¸åŒå…»æ®–æ¡ä»¶ï¼‰
        let poolVariation = Math.random() * 0.3 - 0.15; // æ± å­é—´çš„åŸºç¡€å·®å¼‚

        for (let i = 0; i < keyWeeks.length; i++) {
          const weekNum = keyWeeks[i];
          labels.push(`ç¬¬${weekNum}å‘¨`);

          // æ¨¡æ‹Ÿå…»æ®–è¿‡ç¨‹ä¸­çš„å‚æ•°å˜åŒ–
          const growthFactor = weekNum / 24; // ç”Ÿé•¿å› å­
          const seasonFactor = Math.sin(weekNum * 0.26) * 0.5; // å­£èŠ‚å› å­

          // å„å‚æ•°æ•°æ®ç”Ÿæˆ
          const flowRate =
            80 +
            growthFactor * 20 +
            seasonFactor * 15 +
            Math.random() * 10 +
            poolVariation * 20;
          const liquidOxygen =
            3 + growthFactor * 2.5 + Math.random() * 1.5 + poolVariation * 2;
          const waterTemp =
            24 + seasonFactor * 3 + Math.random() * 2 + poolVariation * 1.5;
          const drainageFreq =
            2 + growthFactor * 1.5 + Math.random() * 1 + poolVariation * 0.8;
          const windSpeed =
            2.5 +
            Math.sin(weekNum * 0.3) * 1 +
            Math.random() * 0.8 +
            poolVariation * 0.5;
          const waterDepth =
            1.8 +
            growthFactor * 0.3 +
            Math.random() * 0.2 +
            poolVariation * 0.1;

          flowRateData.push(flowRate);
          liquidOxygenData.push(liquidOxygen);
          waterTempData.push(waterTemp);
          drainageFreqData.push(drainageFreq);
          windSpeedData.push(windSpeed);
          waterDepthData.push(waterDepth);

          // æº¶è§£æ°§å—å¤šå› ç´ ç»¼åˆå½±å“ï¼ˆè°ƒæ•´ç³»æ•°è®©æ•°å€¼åœ¨åˆç†èŒƒå›´å†…ï¼‰
                const oxygenLevel = 5.5 + 
                    (flowRate - 100) * 0.008 + // æ°´æµé‡å½±å“ï¼ˆé™ä½ç³»æ•°ï¼‰
                    liquidOxygen * 0.3 + // æ¶²æ°§æ›æ°”ç›´æ¥å½±å“ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (25 - waterTemp) * 0.08 + // æ°´æ¸©è´Ÿç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    drainageFreq * 0.15 + // æ’æ±¡é¢‘æ¬¡æ­£ç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    windSpeed * 0.1 + // é£é€Ÿæ­£ç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (2.2 - waterDepth) * 0.2 + // æ°´æ·±è´Ÿç›¸å…³ï¼ˆé™ä½ç³»æ•°ï¼‰
                    (Math.random() - 0.5) * 1.5; // éšæœºæ³¢åŠ¨
                    
                const finalOxygenLevel = Math.max(4, Math.min(10, oxygenLevel));
                dissolvedOxygenData.push(finalOxygenLevel); // é™åˆ¶åœ¨åˆç†èŒƒå›´å†…
        }

        new Chart(ctx, {
          type: "line",
          data: {
            labels: labels,
            datasets: [
              {
                label: "æº¶è§£æ°§ (mg/L)",
                data: dissolvedOxygenData,
                borderColor: "rgba(231, 76, 60, 1)",
                backgroundColor: "rgba(231, 76, 60, 0.1)",
                yAxisID: "y2",
                tension: 0.3,
                borderWidth: 3,
              },
              {
                label: "æ°´æµé‡ (L/min)",
                data: flowRateData,
                borderColor: "rgba(52, 152, 219, 1)",
                backgroundColor: "rgba(52, 152, 219, 0.1)",
                yAxisID: "y",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æ¶²æ°§æ›æ°” (L/min)",
                data: liquidOxygenData,
                borderColor: "rgba(46, 204, 113, 1)",
                backgroundColor: "rgba(46, 204, 113, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æ°´æ¸© (Â°C)",
                data: waterTempData,
                borderColor: "rgba(255, 99, 132, 1)",
                backgroundColor: "rgba(255, 99, 132, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æ’æ±¡é¢‘æ¬¡ (æ¬¡/å¤©)",
                data: drainageFreqData,
                borderColor: "rgba(153, 102, 255, 1)",
                backgroundColor: "rgba(153, 102, 255, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "é£é€Ÿ (m/s)",
                data: windSpeedData,
                borderColor: "rgba(255, 159, 64, 1)",
                backgroundColor: "rgba(255, 159, 64, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
              {
                label: "æ°´æ·± (m)",
                data: waterDepthData,
                borderColor: "rgba(26, 188, 156, 1)",
                backgroundColor: "rgba(26, 188, 156, 0.1)",
                yAxisID: "y1",
                tension: 0.3,
                borderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                labels: {
                  usePointStyle: true,
                  padding: 8,
                  font: {
                    size: 10,
                  },
                },
              },
              title: {
                display: true,
                text: chartTitle,
                font: {
                  size: 14,
                  weight: "bold",
                },
              },
              tooltip: {
                mode: "index",
                intersect: false,
              },
            },
            scales: {
              y: {
                type: "linear",
                display: true,
                position: "left",
                title: {
                  display: true,
                  text: "æ°´æµé‡ (L/min)",
                  font: {
                    size: 11,
                  },
                },
                grid: {
                  color: "rgba(0,0,0,0.1)",
                },
              },
              y1: {
                type: "linear",
                display: true,
                position: "right",
                title: {
                  display: true,
                  text: "å…¶ä»–å‚æ•°",
                  font: {
                    size: 11,
                  },
                },
                grid: {
                  drawOnChartArea: false,
                },
              },
              y2: {
                type: "linear",
                display: true,
                position: "right",
                min: 4,
                max: 10,
                title: {
                  display: true,
                  text: "æº¶è§£æ°§ (mg/L)",
                  font: {
                    size: 11,
                  },
                  color: "#e74c3c",
                },
                ticks: {
                  color: "#e74c3c",
                },
                grid: {
                  drawOnChartArea: false,
                },
              },
            },
          },
        });
      }

      // åˆ›å»ºæ‰€æœ‰æº¶è§£æ°§å½±å“å› ç´ å›¾è¡¨
      function createOxygenAnalysisCharts() {
        createOxygenAnalysisChart(
          "oxygenPoolAChart",
          "å¤§å£é»‘é²ˆAæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
        createOxygenAnalysisChart(
          "oxygenPoolBChart",
          "å¤§å£é»‘é²ˆBæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
        createOxygenAnalysisChart(
          "oxygenPoolCChart",
          "å¤§å£é»‘é²ˆCæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
        createOxygenAnalysisChart(
          "oxygenPoolDChart",
          "å¤§å£é»‘é²ˆDæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
        createOxygenAnalysisChart(
          "oxygenPoolEChart",
          "å¤§å£é»‘é²ˆEæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
        createOxygenAnalysisChart(
          "oxygenPoolFChart",
          "å¤§å£é»‘é²ˆFæ± æº¶è§£æ°§å½±å“å› ç´ åˆ†æ"
        );
      }

      // ç”Ÿæˆæº¶è§£æ°§AIé¢„æµ‹è¡¨æ ¼
      function generateOxygenPredictionTable() {
        const tableBody = document.getElementById("oxygenPredictionTableBody");

        const oxygenPredictions = [
          {
            parameter: "æ°´æµé€Ÿåº¦",
            current: "0.2-0.5 m/s",
            optimal: "0.35-0.45 m/s",
            improvement: "+25%",
            confidence: "95%",
            suggestion: "è°ƒèŠ‚æ°´æ³µåŠŸç‡ï¼Œä¿æŒé€‚åº¦æ°´æµ",
          },
          {
            parameter: "æ¶²æ°§å¢æ°§é‡",
            current: "2-6 L/min",
            optimal: "4.2-5.8 L/min",
            improvement: "+35%",
            confidence: "98%",
            suggestion: "æ ¹æ®æº¶è§£æ°§å®æ—¶ç›‘æµ‹æ™ºèƒ½è°ƒèŠ‚",
          },
          {
            parameter: "æ°´æ¸©",
            current: "22-28Â°C",
            optimal: "23-25Â°C",
            improvement: "+20%",
            confidence: "96%",
            suggestion: "æ¸©æ§ç³»ç»Ÿç²¾å‡†è°ƒèŠ‚ï¼Œé¿å…é«˜æ¸©",
          },
          {
            parameter: "æ’æ±¡é¢‘ç‡",
            current: "1-3æ¬¡/å¤©",
            optimal: "2.5-3.5æ¬¡/å¤©",
            improvement: "+18%",
            confidence: "92%",
            suggestion: "å¢åŠ æ’æ±¡é¢‘æ¬¡ï¼ŒåŠæ—¶æ¸…é™¤æœ‰æœºç‰©",
          },
          {
            parameter: "é£é€Ÿ",
            current: "1-4 m/s",
            optimal: "2.5-3.5 m/s",
            improvement: "+15%",
            confidence: "88%",
            suggestion: "åˆç†åˆ©ç”¨è‡ªç„¶é£åŠ›æˆ–å¢è®¾é£æœº",
          },
          {
            parameter: "æ°´æ·±",
            current: "1.5-2.5 m",
            optimal: "1.8-2.2 m",
            improvement: "+12%",
            confidence: "90%",
            suggestion: "æ§åˆ¶é€‚å®œæ°´æ·±ï¼Œä¾¿äºæ°§æ°”æ‰©æ•£",
          },
          {
            parameter: "ç”Ÿç‰©é‡å¯†åº¦",
            current: "8-25 kg/mÂ³",
            optimal: "12-18 kg/mÂ³",
            improvement: "+22%",
            confidence: "94%",
            suggestion: "åˆç†æ§åˆ¶å…»æ®–å¯†åº¦ï¼Œé¿å…ç¼ºæ°§",
          },
          {
            parameter: "å…‰ç…§å¼ºåº¦",
            current: "15-40åƒlux",
            optimal: "25-35åƒlux",
            improvement: "+16%",
            confidence: "87%",
            suggestion: "é€‚åº¦å…‰ç…§ä¿ƒè¿›è—»ç±»å…‰åˆä½œç”¨",
          },
        ];

        oxygenPredictions.forEach((pred) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td><strong>${pred.parameter}</strong></td>
                    <td class="current-range">${pred.current}</td>
                    <td class="optimal-range">${pred.optimal}</td>
                    <td class="growth-improvement">${pred.improvement}</td>
                    <td class="${
                      pred.confidence >= "90%"
                        ? "confidence-high"
                        : "confidence-medium"
                    }">${pred.confidence}</td>
                    <td>${pred.suggestion}</td>
                `;
          tableBody.appendChild(row);
        });
      }

      // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
      document.addEventListener("DOMContentLoaded", function () {
        generateSensorData();
        createParameterCharts();
        generatePredictionTable();
        generateOxygenSensorData();
        createOxygenAnalysisCharts();
        generateOxygenPredictionTable();
      });
    </script>
  </body>
</html>
