<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é²ˆé±¼æ‰“æ ·æµç¨‹</title>
    <link href="../static/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="../static/chart.js"></script>
    <style>
        :root {
            --color-primary: #3494E6;
            --color-primary-dark: #2980b9;
            --color-secondary: #4ECDC4;
            --color-secondary-dark: #44A08D;
            --color-danger: #FF6B6B;
            --color-warning: #FFB900;
            --color-success: #43E97B;
        }
        
        .bg-primary {
            background-color: var(--color-primary);
        }
        
        .bg-secondary {
            background-color: var(--color-secondary);
        }
        
        .bg-danger {
            background-color: var(--color-danger);
        }
        
        .bg-warning {
            background-color: var(--color-warning);
        }
        
        .bg-success {
            background-color: var(--color-success);
        }
        
        .text-primary {
            color: var(--color-primary);
        }
        
        .text-secondary {
            color: var(--color-secondary);
        }
        
        .text-danger {
            color: var(--color-danger);
        }
        
        .text-warning {
            color: var(--color-warning);
        }
        
        .text-success {
            color: var(--color-success);
        }
        
        .border-primary {
            border-color: var(--color-primary);
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .step-active {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
            color: white;
        }
        
        .step-inactive {
            background-color: white;
            border-color: #e0e0e0;
            color: #9e9e9e;
        }
        
        .step-completed {
            background-color: var(--color-success);
            border-color: var(--color-success);
            color: white;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .step-indicator-container {
                overflow-x: auto;
                padding-bottom: 10px;
            }
        }

        /* æµç¨‹å›¾æ ·å¼ */
        .flowchart-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            width: 100%;
            overflow-x: auto;
        }

        .flowchart {
            min-width: 1000px;
        }

        .step-node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .step-node:hover {
            transform: scale(1.05);
        }

        .step-node:hover .step-circle {
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2));
        }

        .step-text {
            font-size: 14px;
            font-weight: 600;
            text-anchor: middle;
            dominant-baseline: middle;
        }

        .step-subtitle {
            font-size: 11px;
            font-weight: 400;
            text-anchor: middle;
            dominant-baseline: middle;
            opacity: 0.8;
        }

        .flow-arrow {
            stroke: #3494E6;
            stroke-width: 3;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .conditional-flow {
            stroke: #4ECDC4;
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
            marker-end: url(#arrowhead-conditional);
        }

        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #3494E6;
        }

        .legend h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: #666;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .legend-line {
            width: 30px;
            height: 3px;
            margin-right: 10px;
            border-radius: 2px;
        }

        .legend-dash {
            width: 30px;
            height: 2px;
            margin-right: 10px;
            background: repeating-linear-gradient(
                to right,
                #4ECDC4,
                #4ECDC4 5px,
                transparent 5px,
                transparent 10px
            );
        }

        /* ä¸‹æ‹‰åˆ·æ–°æ ·å¼ */
        #pullToRefresh {
            height: 0;
            overflow: hidden;
            text-align: center;
            transition: height 0.3s;
        }
        
        #pullToRefresh.active {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- ä¸‹æ‹‰åˆ·æ–°æŒ‡ç¤ºå™¨ -->
    <div id="pullToRefresh" class="bg-white w-full">
        <div class="flex items-center justify-center py-3">
            <i class="fas fa-sync-alt fa-spin mr-2 text-primary"></i>
            <span class="text-gray-600">æ­£åœ¨åˆ·æ–°...</span>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <button class="mr-4 text-gray-600">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h1 class="text-xl font-bold">é²ˆé±¼æ‰“æ ·æµç¨‹</h1>
                </div>
                <div>
                    <button class="bg-gray-100 p-2 rounded-full text-gray-600">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- çŠ¶æ€å¡ç‰‡ -->
    <div class="container mx-auto px-4 py-4">
        <div class="bg-white rounded-xl shadow-sm overflow-hidden transition-all card-hover mb-6">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">æ‰“æ ·ä»»åŠ¡çŠ¶æ€</h3>
                    <span class="bg-blue-100 text-primary px-3 py-1 rounded-full text-sm">è¿›è¡Œä¸­</span>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <span class="text-base font-medium">ä»Šæ—¥æ‰“æ ·ä»»åŠ¡</span>
                            <span class="text-sm text-primary font-medium">12</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-3">
                            <div class="bg-primary rounded-full h-2" style="width: 75%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-2">
                            <span>å·²å®Œæˆ: 9</span>
                            <span>75%</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <span class="text-base font-medium">è§£å‰–ä»»åŠ¡</span>
                            <span class="text-sm text-warning font-medium">5</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-3">
                            <div class="bg-warning rounded-full h-2" style="width: 40%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-2">
                            <span>å·²å®Œæˆ: 2</span>
                            <span>40%</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <span class="text-base font-medium">å¥åº·çŠ¶å†µ</span>
                            <span class="text-sm text-success font-medium">è‰¯å¥½</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-3">
                            <div class="bg-success rounded-full h-2" style="width: 90%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-2">
                            <span>å¥åº·ç‡</span>
                            <span>90%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
    <div class="container mx-auto px-4 py-2">
        <div class="bg-white rounded-xl shadow-sm overflow-hidden transition-all card-hover mb-6">
            <div class="p-6">
                <h3 class="text-lg font-bold mb-4">æ‰“æ ·æµç¨‹æ­¥éª¤</h3>
                <div class="step-indicator-container">
                    <div class="flex items-center">
                        <div class="flex flex-col items-center">
                            <div id="step1Indicator" class="w-10 h-10 rounded-full border-2 step-active flex items-center justify-center mb-1">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <span class="text-sm font-medium">å‘èµ·ä»»åŠ¡</span>
                        </div>
                        <div class="flex-1 h-2 bg-gray-200 mx-2">
                            <div id="progress1" class="h-full bg-primary" style="width: 100%"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step2Indicator" class="w-10 h-10 rounded-full border-2 step-active flex items-center justify-center mb-1">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <span class="text-sm font-medium">æ¥å—ä»»åŠ¡</span>
                        </div>
                        <div class="flex-1 h-2 bg-gray-200 mx-2">
                            <div id="progress2" class="h-full bg-primary" style="width: 100%"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step3Indicator" class="w-10 h-10 rounded-full border-2 step-active flex items-center justify-center mb-1">
                                <i class="fas fa-fish"></i>
                            </div>
                            <span class="text-sm font-medium">é±¼æ± æ‰“æ ·</span>
                        </div>
                        <div class="flex-1 h-2 bg-gray-200 mx-2">
                            <div id="progress3" class="h-full bg-primary" style="width: 50%"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step4Indicator" class="w-10 h-10 rounded-full border-2 step-inactive flex items-center justify-center mb-1">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <span class="text-sm font-medium">å¡«å†™ç»“æœ</span>
                        </div>
                        <div class="flex-1 h-2 bg-gray-200 mx-2">
                            <div id="progress4" class="h-full bg-primary" style="width: 0%"></div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div id="step5Indicator" class="w-10 h-10 rounded-full border-2 step-inactive flex items-center justify-center mb-1">
                                <i class="fas fa-microscope"></i>
                            </div>
                            <span class="text-sm font-medium">è§£å‰–æ£€æŸ¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="container mx-auto px-4 py-4">
        <!-- æµç¨‹å›¾ -->
        <div class="bg-white rounded-xl shadow-sm overflow-hidden transition-all card-hover mb-6">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">é²ˆé±¼æ‰“æ ·æµç¨‹å›¾</h3>
                    <span class="bg-blue-100 text-primary px-3 py-1 rounded-full text-sm">å¯äº¤äº’</span>
                </div>
                
                <div class="flowchart-container">
                    <svg class="flowchart" viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
                        <!-- å®šä¹‰ç®­å¤´æ ‡è®° -->
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#3494E6" />
                            </marker>
                            <marker id="arrowhead-conditional" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#4ECDC4" />
                            </marker>
                            
                            <!-- æ¸å˜å®šä¹‰ -->
                            <linearGradient id="step1Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#3494E6;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#5643FA;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step2Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4ECDC4;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#44A08D;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step3Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#45B7D1;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#96C93D;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step4Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#F093FB;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#F5576C;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step5Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4FACFE;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00F2FE;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step6Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#43E97B;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#38F9D7;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="step7Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FA709A;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FEE140;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="conditionalGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FF8E8E;stop-opacity:1" />
                            </linearGradient>
                        </defs>

                        <!-- æ­¥éª¤1: å‘èµ·æ‰“æ ·ä»»åŠ¡ -->
                        <g class="step-node" onclick="showStepDetails(1)">
                            <circle class="step-circle" cx="100" cy="100" r="40" fill="url(#step1Gradient)" />
                            <text class="step-text" x="100" y="95" fill="white">ğŸ¤–</text>
                            <text class="step-text" x="100" y="110" fill="white" font-size="12">å‘èµ·ä»»åŠ¡</text>
                            <text class="step-subtitle" x="100" y="160" fill="#333">ç®¡ç†è€…/AIåŠ©æ‰‹</text>
                            <text class="step-subtitle" x="100" y="175" fill="#333">åˆ›å»ºæ‰“æ ·ä»»åŠ¡</text>
                        </g>

                        <!-- æ­¥éª¤2: å·¥äººæ¥å—ä»»åŠ¡ -->
                        <g class="step-node" onclick="showStepDetails(2)">
                            <circle class="step-circle" cx="300" cy="100" r="40" fill="url(#step2Gradient)" />
                            <text class="step-text" x="300" y="95" fill="white">ğŸ‘¨â€ğŸ”§</text>
                            <text class="step-text" x="300" y="110" fill="white" font-size="12">æ¥å—ä»»åŠ¡</text>
                            <text class="step-subtitle" x="300" y="160" fill="#333">å·¥äººç¡®è®¤</text>
                            <text class="step-subtitle" x="300" y="175" fill="#333">æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…</text>
                        </g>

                        <!-- æ­¥éª¤3: å‰å¾€é±¼æ±  -->
                        <g class="step-node" onclick="showStepDetails(3)">
                            <circle class="step-circle" cx="500" cy="100" r="40" fill="url(#step3Gradient)" />
                            <text class="step-text" x="500" y="95" fill="white">ğŸš¶</text>
                            <text class="step-text" x="500" y="110" fill="white" font-size="12">å‰å¾€é±¼æ± </text>
                            <text class="step-subtitle" x="500" y="160" fill="#333">å®šä½ç›®æ ‡é±¼æ± </text>
                            <text class="step-subtitle" x="500" y="175" fill="#333">å‡†å¤‡æ‰“æ ·å·¥å…·</text>
                        </g>

                        <!-- æ­¥éª¤4: è¿›è¡Œæ‰“æ · -->
                        <g class="step-node" onclick="showStepDetails(4)">
                            <circle class="step-circle" cx="700" cy="100" r="40" fill="url(#step4Gradient)" />
                            <text class="step-text" x="700" y="95" fill="white">ğŸ£</text>
                            <text class="step-text" x="700" y="110" fill="white" font-size="12">è¿›è¡Œæ‰“æ ·</text>
                            <text class="step-subtitle" x="700" y="160" fill="#333">æ•ææ ·æœ¬é±¼</text>
                            <text class="step-subtitle" x="700" y="175" fill="#333">è®°å½•åŸºç¡€æ•°æ®</text>
                        </g>

                        <!-- æ­¥éª¤5: å¡«å†™ç»“æœ -->
                        <g class="step-node" onclick="showStepDetails(5)">
                            <circle class="step-circle" cx="700" cy="300" r="40" fill="url(#step5Gradient)" />
                            <text class="step-text" x="700" y="295" fill="white">ğŸ“</text>
                            <text class="step-text" x="700" y="310" fill="white" font-size="12">å¡«å†™ç»“æœ</text>
                            <text class="step-subtitle" x="700" y="360" fill="#333">è®°å½•é•¿åº¦é‡é‡</text>
                            <text class="step-subtitle" x="700" y="375" fill="#333">ä¸Šä¼ æ‰“æ ·å›¾ç‰‡</text>
                        </g>

                        <!-- æ­¥éª¤6: ç–¾ç—…æ£€æŸ¥ -->
                        <g class="step-node" onclick="showStepDetails(6)">
                            <circle class="step-circle" cx="500" cy="300" r="40" fill="url(#step6Gradient)" />
                            <text class="step-text" x="500" y="295" fill="white">ğŸ”</text>
                            <text class="step-text" x="500" y="310" fill="white" font-size="12">ç–¾ç—…æ£€æŸ¥</text>
                            <text class="step-subtitle" x="500" y="360" fill="#333">è§‚å¯Ÿé±¼ä½“çŠ¶å†µ</text>
                            <text class="step-subtitle" x="500" y="375" fill="#333">è®°å½•å¼‚å¸¸æƒ…å†µ</text>
                        </g>

                        <!-- æ¡ä»¶åˆ¤æ–­: æ˜¯å¦æœ‰ç–¾ç—… -->
                        <g class="step-node" onclick="showStepDetails('conditional')">
                            <rect x="460" y="400" width="80" height="50" rx="25" fill="url(#conditionalGradient)" />
                            <text class="step-text" x="500" y="420" fill="white" font-size="12">âš ï¸</text>
                            <text class="step-text" x="500" y="435" fill="white" font-size="10">å‘ç°ç–¾ç—…?</text>
                        </g>

                        <!-- æ­¥éª¤7A: åˆ›å»ºè§£å‰–ä»»åŠ¡ -->
                        <g class="step-node" onclick="showStepDetails('7A')">
                            <circle class="step-circle" cx="300" cy="400" r="40" fill="url(#step7Gradient)" />
                            <text class="step-text" x="300" y="395" fill="white">ğŸ”ª</text>
                            <text class="step-text" x="300" y="410" fill="white" font-size="12">åˆ›å»ºè§£å‰–</text>
                            <text class="step-subtitle" x="300" y="460" fill="#333">ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º</text>
                            <text class="step-subtitle" x="300" y="475" fill="#333">è§£å‰–ä»»åŠ¡</text>
                        </g>

                        <!-- æ­¥éª¤7B: å®Œæˆæ‰“æ · -->
                        <g class="step-node" onclick="showStepDetails('7B')">
                            <circle class="step-circle" cx="700" cy="500" r="40" fill="url(#step7Gradient)" />
                            <text class="step-text" x="700" y="495" fill="white">âœ…</text>
                            <text class="step-text" x="700" y="510" fill="white" font-size="12">å®Œæˆæ‰“æ ·</text>
                            <text class="step-subtitle" x="700" y="560" fill="#333">æäº¤æ‰€æœ‰æ•°æ®</text>
                            <text class="step-subtitle" x="700" y="575" fill="#333">ç”Ÿæˆæ‰“æ ·æŠ¥å‘Š</text>
                        </g>

                        <!-- ä¸»æµç¨‹ç®­å¤´ -->
                        <path class="flow-arrow" d="M 140 100 L 260 100" />
                        <path class="flow-arrow" d="M 340 100 L 460 100" />
                        <path class="flow-arrow" d="M 540 100 L 660 100" />
                        <path class="flow-arrow" d="M 700 140 L 700 260" />
                        <path class="flow-arrow" d="M 660 300 L 540 300" />
                        <path class="flow-arrow" d="M 500 340 L 500 400" />

                        <!-- æ¡ä»¶æµç¨‹ç®­å¤´ -->
                        <path class="conditional-flow" d="M 460 425 L 340 425" />
                        <text x="400" y="415" font-size="10" fill="#666" text-anchor="middle">æ˜¯</text>
                        
                        <path class="conditional-flow" d="M 500 450 L 500 500 L 660 500" />
                        <text x="500" y="475" font-size="10" fill="#666" text-anchor="middle">å¦</text>
                        
                        <!-- è§£å‰–ä»»åŠ¡å®Œæˆåå›åˆ°ä¸»æµç¨‹ -->
                        <path class="conditional-flow" d="M 300 440 L 300 500 L 660 500" />

                        <!-- æµç¨‹è¯´æ˜ -->
                        <text x="500" y="650" font-size="16" font-weight="600" fill="#333" text-anchor="middle">é²ˆé±¼æ‰“æ ·å®Œæ•´æµç¨‹</text>
                        <text x="500" y="670" font-size="12" fill="#666" text-anchor="middle">ä»å‘èµ·ä»»åŠ¡åˆ°å®Œæˆæ‰“æ ·çš„å…³é”®æ­¥éª¤</text>

                        <!-- å…³é”®èŠ‚ç‚¹æ ‡æ³¨ -->
                        <g>
                            <rect x="50" y="700" width="200" height="80" rx="10" fill="#f8f9fa" stroke="#e0e0e0" stroke-width="1" />
                            <text x="150" y="720" font-size="12" font-weight="600" fill="#333" text-anchor="middle">å…³é”®æ§åˆ¶ç‚¹</text>
                            <text x="60" y="740" font-size="10" fill="#666">â€¢ ä»»åŠ¡å‘èµ·ä¸åˆ†é…</text>
                            <text x="60" y="755" font-size="10" fill="#666">â€¢ ç–¾ç—…æ£€æŸ¥ä¸åˆ¤æ–­</text>
                            <text x="60" y="770" font-size="10" fill="#666">â€¢ æ•°æ®è®°å½•ä¸ä¸Šä¼ </text>
                        </g>

                        <g>
                            <rect x="300" y="700" width="200" height="80" rx="10" fill="#f8f9fa" stroke="#e0e0e0" stroke-width="1" />
                            <text x="400" y="720" font-size="12" font-weight="600" fill="#333" text-anchor="middle">æ¡ä»¶åˆ¤æ–­</text>
                            <text x="310" y="740" font-size="10" fill="#666">â€¢ ç–¾ç—…æ£€æµ‹ä¸åˆ¤æ–­</text>
                            <text x="310" y="755" font-size="10" fill="#666">â€¢ è§£å‰–ä»»åŠ¡è‡ªåŠ¨åˆ›å»º</text>
                            <text x="310" y="770" font-size="10" fill="#666">â€¢ æµç¨‹åˆ†æ”¯å¤„ç†</text>
                        </g>

                        <g>
                            <rect x="550" y="700" width="200" height="80" rx="10" fill="#f8f9fa" stroke="#e0e0e0" stroke-width="1" />
                            <text x="650" y="720" font-size="12" font-weight="600" fill="#333" text-anchor="middle">æ•°æ®é‡‡é›†</text>
                            <text x="560" y="740" font-size="10" fill="#666">â€¢ é±¼ä½“é•¿åº¦ä¸é‡é‡</text>
                            <text x="560" y="755" font-size="10" fill="#666">â€¢ æ‰“æ ·å›¾ç‰‡ä¸Šä¼ </text>
                            <text x="560" y="770" font-size="10" fill="#666">â€¢ å¥åº·çŠ¶å†µè®°å½•</text>
                        </g>
                    </svg>
                </div>

                <div class="legend mt-6">
                    <h3>æµç¨‹å›¾è¯´æ˜</h3>
                    <div class="legend-item">
                        <div class="legend-line" style="background: #3494E6;"></div>
                        <span>ä¸»è¦æµç¨‹è·¯å¾„</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dash"></div>
                        <span>æ¡ä»¶åˆ¤æ–­æµç¨‹</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #3494E6, #5643FA);"></div>
                        <span>è§¦å‘èŠ‚ç‚¹ - å‘èµ·ä»»åŠ¡</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #4ECDC4, #44A08D);"></div>
                        <span>æ‰§è¡ŒèŠ‚ç‚¹ - å·¥äººæ¥å—</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #FF6B6B, #FF8E8E);"></div>
                        <span>æ¡ä»¶èŠ‚ç‚¹ - ç–¾ç—…åˆ¤æ–­</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #FA709A, #FEE140);"></div>
                        <span>å®ŒæˆèŠ‚ç‚¹ - æµç¨‹ç»“æŸ</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ‰“æ ·ä»»åŠ¡è¯¦æƒ… -->
        <div class="bg-white rounded-xl shadow-sm overflow-hidden transition-all card-hover mb-6">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">å½“å‰æ‰“æ ·ä»»åŠ¡</h3>
                    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">è¿›è¡Œä¸­</span>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="flex flex-col">
                        <span class="text-sm text-gray-500 mb-1">ä»»åŠ¡ID</span>
                        <span class="text-base font-medium">FS-20231120-005</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="text-sm text-gray-500 mb-1">ç›®æ ‡é±¼æ± </span>
                        <span class="text-base font-medium">BåŒº-08å·é±¼æ± </span>
                    </div>
                    <div class="flex flex-col">
                        <span class="text-sm text-gray-500 mb-1">é¢„è®¡å®Œæˆæ—¶é—´</span>
                        <span class="text-base font-medium">2025-11-21 16:30</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="text-sm text-gray-500 mb-1">è´Ÿè´£äºº</span>
                        <span class="text-base font-medium">æå››</span>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <h4 class="text-base font-medium mb-3">æ‰“æ ·è¦æ±‚</h4>
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-success mt-1 mr-2"></i>
                            <span>éšæœºæ•æ5æ¡é²ˆé±¼è¿›è¡Œæ‰“æ ·</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-success mt-1 mr-2"></i>
                            <span>æµ‹é‡å¹¶è®°å½•æ¯æ¡é±¼çš„é•¿åº¦å’Œé‡é‡</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-success mt-1 mr-2"></i>
                            <span>æ‹æ‘„æ¯æ¡é±¼çš„æ¸…æ™°ç…§ç‰‡</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-success mt-1 mr-2"></i>
                            <span>æ£€æŸ¥é±¼ä½“æ˜¯å¦æœ‰ç–¾ç—…è¿¹è±¡</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-success mt-1 mr-2"></i>
                            <span>å¦‚å‘ç°ç–¾ç—…ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨åˆ›å»ºè§£å‰–ä»»åŠ¡</span>
                        </li>
                    </ul>
                </div>
                
                <div class="flex justify-end">
                    <button id="fillResultBtn" class="bg-primary hover:bg-primary/90 text-white font-medium py-3 px-6 rounded-lg shadow-sm transition">
                        <i class="fas fa-clipboard-check mr-2"></i>å¡«å†™æ‰“æ ·ç»“æœ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- å¡«å†™æ‰“æ ·ç»“æœè¡¨å• (é»˜è®¤éšè—) -->
    <div id="resultFormContainer" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
        <div class="bg-white rounded-xl shadow-lg w-full max-w-3xl max-h-90vh overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">å¡«å†™æ‰“æ ·ç»“æœ</h3>
                    <button id="closeFormBtn" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="samplingResultForm">
                    <!-- é±¼ä½“åŸºæœ¬ä¿¡æ¯ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-medium mb-4">é±¼ä½“åŸºæœ¬ä¿¡æ¯</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">é±¼ä½“é•¿åº¦ (cm)</label>
                                <input type="number" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">é±¼ä½“é‡é‡ (g)</label>
                                <input type="number" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary" required>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å›¾ç‰‡ä¸Šä¼  -->
                    <div class="mb-6">
                        <h4 class="text-lg font-medium mb-4">æ‰“æ ·å›¾ç‰‡ä¸Šä¼ </h4>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                            <input type="file" id="fishImageUpload" class="hidden" accept="image/*" multiple>
                            <label for="fishImageUpload" class="cursor-pointer">
                                <div class="flex flex-col items-center justify-center">
                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-3"></i>
                                    <p class="text-sm text-gray-500 mb-1">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡</p>
                                    <p class="text-xs text-gray-400">æ”¯æŒ JPG, PNG æ ¼å¼</p>
                                </div>
                            </label>
                            <div id="imagePreviewContainer" class="grid grid-cols-3 gap-3 mt-4"></div>
                        </div>
                    </div>
                    
                    <!-- ç–¾ç—…æƒ…å†µ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-medium mb-4">ç–¾ç—…æƒ…å†µ</h4>
                        <div class="mb-4">
                            <div class="flex items-center mb-3">
                                <input type="radio" id="noDiseaseRadio" name="diseaseStatus" value="no" class="mr-2" checked>
                                <label for="noDiseaseRadio" class="text-sm font-medium text-gray-700">æ— ç–¾ç—…è¿¹è±¡</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="hasDiseaseRadio" name="diseaseStatus" value="yes" class="mr-2">
                                <label for="hasDiseaseRadio" class="text-sm font-medium text-gray-700">å‘ç°ç–¾ç—…è¿¹è±¡</label>
                            </div>
                        </div>
                        
                        <div id="diseaseDetailsContainer" class="hidden">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ç–¾ç—…ç—‡çŠ¶æè¿°</label>
                            <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary h-24" placeholder="è¯·è¯¦ç»†æè¿°è§‚å¯Ÿåˆ°çš„ç–¾ç—…ç—‡çŠ¶..."></textarea>
                            
                            <div class="mt-4">
                                <label class="block text-sm font-medium text-gray-700 mb-1">ç—‡çŠ¶ä½ç½®</label>
                                <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomGills" class="mr-2">
                                        <label for="symptomGills" class="text-sm text-gray-600">é³ƒéƒ¨</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomSkin" class="mr-2">
                                        <label for="symptomSkin" class="text-sm text-gray-600">çš®è‚¤</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomFins" class="mr-2">
                                        <label for="symptomFins" class="text-sm text-gray-600">é³</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomEyes" class="mr-2">
                                        <label for="symptomEyes" class="text-sm text-gray-600">çœ¼ç›</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomBelly" class="mr-2">
                                        <label for="symptomBelly" class="text-sm text-gray-600">è…¹éƒ¨</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="symptomOther" class="mr-2">
                                        <label for="symptomOther" class="text-sm text-gray-600">å…¶ä»–</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- è§£å‰–é€‰é¡¹ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-medium mb-4">è§£å‰–é€‰é¡¹</h4>
                        <div class="flex items-center mb-3">
                            <input type="checkbox" id="createAutopsyTask" class="mr-2">
                            <label for="createAutopsyTask" class="text-sm font-medium text-gray-700">åˆ›å»ºè§£å‰–ä»»åŠ¡</label>
                        </div>
                        <p class="text-xs text-gray-500 mb-4">æ³¨ï¼šå¦‚å‘ç°ç–¾ç—…è¿¹è±¡ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨åˆ›å»ºè§£å‰–ä»»åŠ¡</p>
                        
                        <div id="autopsyDetailsContainer" class="hidden">
                            <label class="block text-sm font-medium text-gray-700 mb-1">è§£å‰–ä»»åŠ¡å¤‡æ³¨</label>
                            <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary h-24" placeholder="è¯·è¾“å…¥è§£å‰–ä»»åŠ¡çš„ç‰¹æ®Šè¦æ±‚æˆ–æ³¨æ„äº‹é¡¹..."></textarea>
                        </div>
                    </div>
                    
                    <!-- æäº¤æŒ‰é’® -->
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="cancelFormBtn" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">
                            å–æ¶ˆ
                        </button>
                        <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition">
                            <i class="fas fa-save mr-2"></i>ä¿å­˜ç»“æœ
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // æ­¥éª¤è¯¦æƒ…å±•ç¤º
        function showStepDetails(step) {
            const stepDetails = {
                1: {
                    title: "æ­¥éª¤1: å‘èµ·æ‰“æ ·ä»»åŠ¡",
                    content: "â€¢ ç®¡ç†è€…æˆ–AIåŠ©æ‰‹åˆ›å»ºä»»åŠ¡\nâ€¢ æŒ‡å®šç›®æ ‡é±¼æ± \nâ€¢ è®¾ç½®æ‰“æ ·è¦æ±‚\nâ€¢ åˆ†é…ç»™å·¥äºº\nâ€¢ è®¾ç½®ä»»åŠ¡ä¼˜å…ˆçº§"
                },
                2: {
                    title: "æ­¥éª¤2: å·¥äººæ¥å—ä»»åŠ¡",
                    content: "â€¢ å·¥äººæ¥æ”¶é€šçŸ¥\nâ€¢ ç¡®è®¤ä»»åŠ¡è¯¦æƒ…\nâ€¢ æŸ¥çœ‹é±¼æ± ä½ç½®\nâ€¢ äº†è§£æ‰“æ ·è¦æ±‚\nâ€¢ å‡†å¤‡ç›¸å…³å·¥å…·"
                },
                3: {
                    title: "æ­¥éª¤3: å‰å¾€é±¼æ± ",
                    content: "â€¢ å®šä½ç›®æ ‡é±¼æ± \nâ€¢ å‡†å¤‡æ‰“æ ·å·¥å…·\nâ€¢ æ£€æŸ¥é±¼æ± çŠ¶å†µ\nâ€¢ è®°å½•ç¯å¢ƒå‚æ•°\nâ€¢ ç¡®è®¤æ‰“æ ·æ¡ä»¶"
                },
                4: {
                    title: "æ­¥éª¤4: è¿›è¡Œæ‰“æ ·",
                    content: "â€¢ æ•ææ ·æœ¬é±¼\nâ€¢ åˆæ­¥è§‚å¯Ÿé±¼ä½“\nâ€¢ è®°å½•åŸºç¡€æ•°æ®\nâ€¢ å‡†å¤‡æµ‹é‡å·¥å…·\nâ€¢ ç¡®ä¿é±¼ä½“å®‰å…¨"
                },
                5: {
                    title: "æ­¥éª¤5: å¡«å†™ç»“æœ",
                    content: "â€¢ æµ‹é‡é±¼ä½“é•¿åº¦\nâ€¢ æµ‹é‡é±¼ä½“é‡é‡\nâ€¢ æ‹æ‘„æ‰“æ ·å›¾ç‰‡\nâ€¢ ä¸Šä¼ å›¾ç‰‡æ•°æ®\nâ€¢ è®°å½•å…¶ä»–è§‚å¯Ÿ"
                },
                6: {
                    title: "æ­¥éª¤6: ç–¾ç—…æ£€æŸ¥",
                    content: "â€¢ è§‚å¯Ÿé±¼ä½“å¤–è§‚\nâ€¢ æ£€æŸ¥é³ƒéƒ¨çŠ¶å†µ\nâ€¢ è§‚å¯Ÿæ¸¸åŠ¨è¡Œä¸º\nâ€¢ è®°å½•å¼‚å¸¸æƒ…å†µ\nâ€¢ åˆ¤æ–­å¥åº·çŠ¶æ€"
                },
                'conditional': {
                    title: "æ¡ä»¶åˆ¤æ–­: æ˜¯å¦å‘ç°ç–¾ç—…",
                    content: "â€¢ åˆ¤æ–­æ˜¯å¦æœ‰ç–¾ç—…è¿¹è±¡\nâ€¢ ç¡®å®šæ˜¯å¦éœ€è¦è§£å‰–\nâ€¢ ç³»ç»Ÿè‡ªåŠ¨åˆ†æ”¯å¤„ç†\nâ€¢ è®°å½•åˆ¤æ–­ç»“æœ\nâ€¢ ç¡®å®šåç»­æµç¨‹"
                },
                '7A': {
                    title: "æ­¥éª¤7A: åˆ›å»ºè§£å‰–ä»»åŠ¡",
                    content: "â€¢ ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºè§£å‰–ä»»åŠ¡\nâ€¢ è®°å½•ç–¾ç—…ç—‡çŠ¶\nâ€¢ åˆ†é…è§£å‰–ä¸“å‘˜\nâ€¢ è®¾ç½®ä»»åŠ¡ä¼˜å…ˆçº§\nâ€¢ å…³è”æ‰“æ ·æ•°æ®"
                },
                '7B': {
                    title: "æ­¥éª¤7B: å®Œæˆæ‰“æ ·",
                    content: "â€¢ æäº¤æ‰€æœ‰é‡‡é›†æ•°æ®\nâ€¢ ç¡®è®¤æ•°æ®å®Œæ•´æ€§\nâ€¢ ç”Ÿæˆæ‰“æ ·æŠ¥å‘Š\nâ€¢ æ›´æ–°é±¼æ± çŠ¶æ€\nâ€¢ å®Œæˆä»»åŠ¡æµç¨‹"
                }
            };

            const detail = stepDetails[step];
            if (detail) {
                alert(`${detail.title}\n\n${detail.content}`);
            }
        }

        // æ·»åŠ äº¤äº’æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const stepNodes = document.querySelectorAll('.step-node');
            
            stepNodes.forEach(node => {
                node.addEventListener('mouseenter', function() {
                    this.style.filter = 'drop-shadow(0 5px 15px rgba(0,0,0,0.2))';
                });
                
                node.addEventListener('mouseleave', function() {
                    this.style.filter = 'none';
                });
            });

            // ä¸‹æ‹‰åˆ·æ–°é€»è¾‘
            let touchStartY = 0;
            let pullToRefreshElement = document.getElementById('pullToRefresh');
            
            document.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            }, { passive: true });
            
            document.addEventListener('touchmove', function(e) {
                const touchY = e.touches[0].clientY;
                const touchDiff = touchY - touchStartY;
                
                if (touchDiff > 60 && window.scrollY <= 0) {
                    pullToRefreshElement.classList.add('active');
                }
            }, { passive: true });
            
            document.addEventListener('touchend', function() {
                if (pullToRefreshElement.classList.contains('active')) {
                    pullToRefreshElement.classList.remove('active');
                    // è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„åˆ·æ–°é€»è¾‘
                    setTimeout(() => {
                        // æ¨¡æ‹Ÿåˆ·æ–°å®Œæˆ
                        console.log('é¡µé¢å·²åˆ·æ–°');
                    }, 1000);
                }
            }, { passive: true });

            // å¡«å†™æ‰“æ ·ç»“æœè¡¨å•ç›¸å…³é€»è¾‘
            const fillResultBtn = document.getElementById('fillResultBtn');
            const resultFormContainer = document.getElementById('resultFormContainer');
            const closeFormBtn = document.getElementById('closeFormBtn');
            const cancelFormBtn = document.getElementById('cancelFormBtn');
            const samplingResultForm = document.getElementById('samplingResultForm');
            const hasDiseaseRadio = document.getElementById('hasDiseaseRadio');
            const noDiseaseRadio = document.getElementById('noDiseaseRadio');
            const diseaseDetailsContainer = document.getElementById('diseaseDetailsContainer');
            const createAutopsyTask = document.getElementById('createAutopsyTask');
            const autopsyDetailsContainer = document.getElementById('autopsyDetailsContainer');
            const fishImageUpload = document.getElementById('fishImageUpload');
            const imagePreviewContainer = document.getElementById('imagePreviewContainer');

            // æ˜¾ç¤ºå¡«å†™ç»“æœè¡¨å•
            fillResultBtn.addEventListener('click', function() {
                resultFormContainer.classList.remove('hidden');
                // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨çŠ¶æ€
                document.getElementById('step4Indicator').classList.remove('step-inactive');
                document.getElementById('step4Indicator').classList.add('step-active');
                document.getElementById('progress3').style.width = '100%';
            });

            // å…³é—­è¡¨å•
            function closeResultForm() {
                resultFormContainer.classList.add('hidden');
            }

            closeFormBtn.addEventListener('click', closeResultForm);
            cancelFormBtn.addEventListener('click', closeResultForm);

            // ç–¾ç—…çŠ¶æ€åˆ‡æ¢
            hasDiseaseRadio.addEventListener('change', function() {
                if (this.checked) {
                    diseaseDetailsContainer.classList.remove('hidden');
                    createAutopsyTask.checked = true; // è‡ªåŠ¨å‹¾é€‰åˆ›å»ºè§£å‰–ä»»åŠ¡
                    autopsyDetailsContainer.classList.remove('hidden');
                }
            });

            noDiseaseRadio.addEventListener('change', function() {
                if (this.checked) {
                    diseaseDetailsContainer.classList.add('hidden');
                    // ä¸è‡ªåŠ¨å–æ¶ˆè§£å‰–ä»»åŠ¡é€‰é¡¹ï¼Œè®©ç”¨æˆ·è‡ªè¡Œå†³å®š
                }
            });

            // è§£å‰–ä»»åŠ¡é€‰é¡¹
            createAutopsyTask.addEventListener('change', function() {
                if (this.checked) {
                    autopsyDetailsContainer.classList.remove('hidden');
                } else {
                    autopsyDetailsContainer.classList.add('hidden');
                }
            });

            // å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ
            fishImageUpload.addEventListener('change', function() {
                imagePreviewContainer.innerHTML = ''; // æ¸…ç©ºé¢„è§ˆåŒºåŸŸ
                
                if (this.files) {
                    Array.from(this.files).forEach(file => {
                        if (!file.type.match('image.*')) {
                            return; // è·³è¿‡éå›¾ç‰‡æ–‡ä»¶
                        }
                        
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const imgContainer = document.createElement('div');
                            imgContainer.className = 'relative';
                            
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.className = 'w-full h-24 object-cover rounded-lg';
                            
                            const removeBtn = document.createElement('button');
                            removeBtn.type = 'button';
                            removeBtn.className = 'absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs';
                            removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                            removeBtn.addEventListener('click', function() {
                                imgContainer.remove();
                            });
                            
                            imgContainer.appendChild(img);
                            imgContainer.appendChild(removeBtn);
                            imagePreviewContainer.appendChild(imgContainer);
                        };
                        
                        reader.readAsDataURL(file);
                    });
                }
            });

            // è¡¨å•æäº¤å¤„ç†
            samplingResultForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // è¿™é‡Œå¯ä»¥æ·»åŠ è¡¨å•æ•°æ®çš„éªŒè¯å’Œå¤„ç†é€»è¾‘
                
                // æ¨¡æ‹Ÿæäº¤æˆåŠŸ
                alert('æ‰“æ ·ç»“æœå·²æˆåŠŸä¿å­˜ï¼');
                
                // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨çŠ¶æ€
                document.getElementById('progress4').style.width = '100%';
                
                // å¦‚æœæœ‰ç–¾ç—…æˆ–é€‰æ‹©åˆ›å»ºè§£å‰–ä»»åŠ¡ï¼Œåˆ™æ¿€æ´»è§£å‰–æ£€æŸ¥æ­¥éª¤
                if (hasDiseaseRadio.checked || createAutopsyTask.checked) {
                    document.getElementById('step5Indicator').classList.remove('step-inactive');
                    document.getElementById('step5Indicator').classList.add('step-active');
                }
                
                closeResultForm(); // å…³é—­è¡¨å•
            });
        });
    </script>
</body>
</html>